.delegation
  .row.public.flex-wrap.flex-vertical-centered
    .col-sm-4.col-xs-12
      i.mdi.mdi-account-multiple.vertical-align.big
      span.vertical-align
        | #{__('Public read')}
    .col-sm-4.col-xs-12
      span.vertical-align
        .input-group
          span.input-group-addon
            i.mdi.mdi-eye
          .fg-line
            .select
              select.form-control(ng-model='$ctrl.publicSelection')
                option(ng-repeat="delegationType in ::$ctrl.delegationTypes" value="{{delegationType.value}}" ng-selected="delegationType.value === $ctrl.selection" ng-if="delegationType.access==='all'") {{ delegationType.name }}
  .row.public.flex-wrap.flex-vertical-centered.hidden-md
    .col-sm-6.col-xs-12
      .btn-group.btn-addusers
        button.btn.btn-primary.dropdown-toggle(type="button", data-toggle="dropdown", aria-expanded="false")
          i.mdi.mdi-account-multiple-plus
          | #{__('Add users and groups delegation')}
        ul.dropdown-menu(role="menu")
          li(ng-repeat="delegationType in ::$ctrl.delegationTypes" ng-if="delegationType.access==='all'")
            a(ng-click="$ctrl.goToEditDelegation()")
              | {{delegationType.name}}
  .row.hidden-xs
    .col-sm-12.col-xs-12
      span #{__('Delegation on this calendar')}
  .row.hidden-xs
    .col-sm-4.col-xs-12
      users-autocomplete-input(mutable-users='$ctrl.newUsersGroups')
    .col-sm-4.col-xs-8
      span
        .select
          select.addDelegation.form-control(ng-model='$ctrl.selection')
            option(ng-repeat="delegationType in ::$ctrl.delegationTypes" value="{{delegationType.value}}" ng-selected="delegationType.value === $ctrl.selection") {{delegationType.name}}
    .col-sm-2.col-xs-4
      .btn.btn-primary.btn-sm(ng-click="$ctrl.addUserGroup()") #{__('Add')}

  hr
  .row.hidden-xs(ng-repeat="delegation in $ctrl.delegations")
    .row.no-margin
      .col-sm-offset-1.col-sm-1.col-xs-2
        a.attendee-avatar(href="", ng-attr-title='delegation.user.displayName')
          img(src='/images/user.png', fallback-src='/images/user.png', ng-src='/api/avatars?email={{ delegation.user.email | urlencode }}')
      .col-sm-4.col-xs-4.name
        span {{ delegation.user.displayName }}
      .col-sm-4.col-xs-4
        span
          .select
            select.form-control(ng-model='delegation.selection')
              option(ng-repeat="delegationType in ::$ctrl.delegationTypes" value="{{delegationType.value}}" ng-selected="delegationType.value === delegation.selection") {{delegationType.name}}
      .col-sm-2
        a(href="", ng-click='$ctrl.removeUserGroup(delegation)')
          i.mdi.mdi-delete
    hr
